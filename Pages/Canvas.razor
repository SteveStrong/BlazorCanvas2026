@page "/canvas"
@using Microsoft.AspNetCore.Components.Web

<PageTitle>Canvas</PageTitle>

<h1>HTML5 Canvas</h1>

<p>This page demonstrates an HTML5 canvas with basic drawing functionality.</p>

<div class="canvas-layout">
    <div class="canvas-container">
        <canvas @ref="canvasElement" 
                id="drawingCanvas" 
                width="800" 
                height="600" 
                style="border: 1px solid #000; cursor: crosshair; background-color: #f0f0f0;"
                @onmousedown="StartDrawing"
                @onmousemove="Draw"
                @onmouseup="StopDrawing"
                @onmouseleave="StopDrawing">
            Your browser does not support the HTML5 canvas element.
        </canvas>
    </div>

    <div class="canvas-controls">
        <div class="control-section">
            <h5>Drawing Tools</h5>
            <div class="control-group">
                <button class="btn btn-primary mb-2" @onclick="ClearCanvas">Clear Canvas</button>
                <button class="btn btn-secondary mb-2" @onclick="DrawRectangle">Draw Rectangle</button>
                <button class="btn btn-info mb-2" @onclick="DrawCircle">Draw Circle</button>
                <button class="btn btn-success mb-2" @onclick="DrawFilledRectangle">Filled Rectangle</button>
                <button class="btn btn-warning mb-2" @onclick="DrawFilledCircle">Filled Circle</button>
            </div>
        </div>

        <div class="control-section">
            <h5>Animation</h5>
            <div class="control-group">
                @if (!animationRunning)
                {
                    <button class="btn btn-outline-primary mb-2" @onclick="StartAnimation">Start Animation</button>
                }
                else
                {
                    <button class="btn btn-outline-danger mb-2" @onclick="StopAnimation">Stop Animation</button>
                }
            </div>
        </div>

        <div class="control-section">
            <h5>Settings</h5>
            <div class="control-group">
                <label class="mb-2">
                    <strong>Color:</strong>
                    <input type="color" @bind="strokeColor" class="form-control-color">
                </label>
                <label class="mb-2">
                    <strong>Line Width:</strong>
                    <input type="range" min="1" max="20" @bind="lineWidth" class="form-range">
                    <span class="badge bg-secondary">@lineWidth</span>
                </label>
            </div>
        </div>
    </div>
</div>